<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sharmi Mart</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: white;
      margin: 0;
      padding: 0;
    }
    .header {
      background-color: #f8f8f8;
      padding: 20px;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
    }
    .container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      padding: 20px;
    }
    .product {
      border: 1px solid #ddd;
      padding: 10px;
      width: 250px;
    }
    .product img {
      width: 100%;
      height: auto;
    }
    .product-title {
      font-weight: bold;
      margin: 10px 0;
    }
    .product-price {
      color: green;
      font-weight: bold;
    }
    .product-description {
      font-size: 14px;
      padding: 10px 0;
    }
    .cart-form input[type="number"],
    .cart-form select {
      width: 100%;
      margin-top: 10px;
      padding: 8px;
      font-size: 14px;
    }
    .cart-form button {
      margin-top: 10px;
      width: 100%;
      padding: 10px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 14px;
      cursor: pointer;
    }
    .checkout, .summary {
      padding: 20px;
      max-width: 600px;
      margin: auto;
    }
    .summary table {
      width: 100%;
      border-collapse: collapse;
    }
    .summary th, .summary td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: left;
    }
    .summary th {
      background-color: #f0f0f0;
    }
    .summary input {
      width: 50px;
    }
    .summary button {
      padding: 4px 8px;
      font-size: 12px;
    }
    .whatsapp {
      text-align: center;
      padding: 20px;
    }
    .whatsapp button {
      background-color: #25d366;
      color: white;
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .footer {
      text-align: center;
      font-size: 12px;
      color: #888;
      padding: 10px;
    }
  </style>
</head>
<body>
  <div class="header">Sharmi Mart</div>

  <div class="container" id="productContainer"></div>

  <div class="summary">
    <h2>Cart Summary</h2>
    <table id="summaryTable">
      <thead>
        <tr>
          <th>#</th>
          <th>Item</th>
          <th>Qty</th>
          <th>Price</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <p><strong>Subtotal:</strong> <span id="grandTotal">RM0.00</span></p>
    <p><strong>Shipping:</strong> <span id="shippingFee">RM0.00</span></p>
    <p><strong>Total:</strong> <span id="finalTotal">RM0.00</span></p>
  </div>

  <div class="checkout">
    <h2>Delivery Details</h2>
    <input type="text" id="name" placeholder="Name" style="width: 100%; margin-bottom: 10px; padding: 8px;">
    <input type="text" id="phone" placeholder="Phone Number" style="width: 100%; margin-bottom: 10px; padding: 8px;">
    <textarea id="address" placeholder="Delivery Address" style="width: 100%; margin-bottom: 10px; padding: 8px;"></textarea>
    <button onclick="confirmOrder()">Place Order via WhatsApp</button>
  </div>

  <div class="whatsapp">
  <p>Please scan the QR code to make payment and send the receipt via whatsApp as a proof: </p>
  <img src="khaleel ent QR.jpg" alt="TnG QR Code" style="width: 200px; border: 1px solid #ccc; padding: 5px;" />
  <br /><br />
   </div>

  <div class="footer">
    &copy; 2025 Sharmi Mart. All rights reserved.
  </div>

  <script>
    const products = [
      {
        id: 1,
        name: "Pure Fullers Earth Solid Bar - 200g",
        image: "Mutani solid bar 1.jpg",
        price: 18,
        weight: 250,
        description: "Multani Mitti fights acne, deep cleanses, and brightens skin. Has antiseptic and cooling effects."
      },
      {
        id: 2,
        name: "Natural Himalaya Himalayan Black Salt - 400g",
        image: "bills_38.jpg",
        price: 11.90,
        weight: 450,
        description: "Kala Namak aids digestion, reduces water retention, and supports slimming."
      },
      {
        id: 3,
        name: "Organic Pure Ceylon Cinnamon Sticks - 50g",
        image: "ceylon_cinnamon1.jpg",
        price: 13,
        weight: 100,
        description: "Ceylon cinnamon sticks, C5 grade, thin bark with a strong aroma."
      }
    ];

    const container = document.getElementById('productContainer');
    const cart = [];

    function renderProducts() {
      container.innerHTML = '';
      products.forEach(p => {
        const div = document.createElement('div');
        div.className = 'product';
        div.innerHTML = `
          <img src="${p.image}" alt="${p.name}">
          <div class="product-title">${p.name}</div>
          <div class="product-price">RM${p.price.toFixed(2)}</div>
          <div class="product-description">${p.description}</div>
          <form class="cart-form" onsubmit="addToCart(event, ${p.id})">
            <input type="number" id="qty-${p.id}" value="1" min="1" />
            <button type="submit">Add to Cart</button>
          </form>
        `;
        container.appendChild(div);
      });
    }

    function addToCart(event, id) {
      event.preventDefault();
      const qty = parseInt(document.getElementById(`qty-${id}`).value);
      const product = products.find(p => p.id === id);
      const existing = cart.find(item => item.id === id);
      if (existing) {
        existing.qty += qty;
      } else {
        cart.push({ ...product, qty });
      }
      updateSummary();
    }

    function removeItem(index) {
      cart.splice(index, 1);
      updateSummary();
    }

    function updateQty(index, newQty) {
      cart[index].qty = parseInt(newQty);
      updateSummary();
    }

    function updateSummary() {
      const tbody = document.querySelector('#summaryTable tbody');
      tbody.innerHTML = '';
      let subtotal = 0;
      let totalWeight = 0;
      cart.forEach((item, i) => {
        subtotal += item.price * item.qty;
        totalWeight += item.weight * item.qty;
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${i + 1}</td>
          <td>${item.name}</td>
          <td><input type="number" value="${item.qty}" min="1" onchange="updateQty(${i}, this.value)" /></td>
          <td>RM${(item.price * item.qty).toFixed(2)}</td>
          <td><button onclick="removeItem(${i})">Remove</button></td>
        `;
        tbody.appendChild(tr);
      });

      let shipping = 4;
      if (totalWeight > 5000) {
        shipping = 35;
      } else if (totalWeight > 3000) {
        shipping = 15;
      } else if (totalWeight > 1000) {
        shipping = 8;
      } else if (totalWeight > 500) {
        shipping = 5;
      }

      document.getElementById('grandTotal').textContent = `RM${subtotal.toFixed(2)}`;
      document.getElementById('shippingFee').textContent = `RM${shipping.toFixed(2)}`;
      document.getElementById('finalTotal').textContent = `RM${(subtotal + shipping).toFixed(2)}`;
    }

    function confirmOrder() {
      const name = document.getElementById('name').value;
      const phone = document.getElementById('phone').value;
      const address = document.getElementById('address').value;
      let message = `Order for ${name}%0aPhone: ${phone}%0aAddress: ${address}%0a%0aItems:%0a`;
      cart.forEach(item => {
        message += `- ${item.name} x ${item.qty} = RM${(item.price * item.qty).toFixed(2)}%0a`;
      });
      const total = document.getElementById('finalTotal').textContent;
      message += `%0aTotal (with shipping): ${total}`;
      window.open(`https://wa.me/60165533200?text=${message}`, '_blank');
    }

    renderProducts();
  </script>
</body>
</html>
